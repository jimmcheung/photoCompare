# PhotoCompare - 照片对比工具

一个用于对比多张照片细节的 Web 应用，支持图片同步缩放、平移、EXIF 信息显示等功能。

**在线体验：** [https://jimmcheung.github.io/photoCompare/](https://jimmcheung.github.io/photoCompare/)

## 功能特点

- 🖼️ 支持同时上传多张照片进行对比
- 🔄 同步缩放和平移操作
- 📊 显示照片 EXIF 信息（相机型号、镜头、参数等）
- 🌓 深色/浅色主题切换
- 🎯 演示模式（全屏展示）
- 📱 响应式设计，支持各种设备
- 🚀 图片懒加载，优化性能
- 💾 本地存储用户偏好设置
- ✏️ 标注功能（支持矩形、圆形、画笔、文字等标注）
- 🎬 关键帧功能（多帧缩放/平移动画，支持自动播放与自定义时间）
- 🎨 优雅的UI动画与交互体验

## 关键帧功能与时间设置面板

- 关键帧开关：在标注开关右侧，开启后显示关键帧面板。
- 关键帧面板：毛玻璃圆角悬浮面板，最多5个关键帧槽位，记录每帧缩放/位移。
- 自动记录：缩放/拖动图片时自动保存到当前关键帧。
- 平滑过渡：切换关键帧时自动平滑动画。
- 快捷键切换：支持1~5数字键切换关键帧。
- 播放功能：支持自动依次播放所有关键帧，空格键控制播放/暂停。
- 时间设置面板：
  - 弹出位置在关键帧面板正上方，点击外部可关闭。
  - 停留时间、过渡时间均为现代按钮组切换，选中高亮。
  - 过渡时间选项：快（0.5秒）、正常（1秒，默认）、慢（3秒）。
  - 过渡动画形式固定为"缓入缓出"，不可更改。
  - 样式与显示设置面板风格统一，圆角毛玻璃弹窗。

## 技术栈

- React 18
- TypeScript
- Tailwind CSS
- Zustand (状态管理)
- React Zoom Pan Pinch (图片缩放)
- Exifr (EXIF 信息提取)
- Vite (构建工具)

## 开发环境设置

1. 克隆项目：
```bash
git clone https://github.com/jimmcheung/photoCompare.git
cd photoCompare
```

2. 安装依赖：
```bash
npm install
```

3. 启动开发服务器：
```bash
npm run dev
```

4. 构建生产版本：
```bash
npm run build
```

## 使用说明

1. 打开应用后，可以通过拖放或点击选择按钮上传照片
2. 上传完成后，照片会并排显示
3. 在任一照片上进行缩放或平移操作，其他照片会同步显示相同位置（可在设置中关闭）
4. 可以通过左上角的设置面板：
   - 切换深色/浅色主题
   - 开启/关闭同步缩放
   - 选择显示的 EXIF 信息
   - 开启演示模式
5. 在演示模式下，界面上的按钮会隐藏，按 ESC 键可退出演示模式
6. 使用标注工具栏进行图片标注：
   - 支持矩形、圆形、自由画笔、文字标注
   - 可调整线宽和颜色
   - 标注可编辑、删除、同步
7. 使用关键帧功能：
   - 开启关键帧开关后，面板会显示5个关键帧按钮，可保存/切换不同缩放与位置
   - 点击播放按钮可自动依次播放所有关键帧动画
   - 点击面板右侧设置按钮可自定义每帧停留时间和过渡时间
   - 所有动画均为缓入缓出，体验流畅

## 版本管理

当前版本：v1.1.8

版本号说明：
- 主版本号：不兼容的 API 修改
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正

更新版本号：
1. 修改 `package.json` 中的版本号
2. 运行 `npm run version` 更新页面显示

## 更新日志

### v1.1.8 (2024-06-XX)
- 新增关键帧功能：支持多帧缩放/平移动画，自动记录、平滑切换、快捷键切换与自动播放
- 关键帧时间设置面板UI与功能优化：
  - 样式与显示设置面板统一，现代毛玻璃圆角弹窗
  - 停留时间、过渡时间为按钮组切换，选中高亮
  - 过渡时间选项为快（0.5秒）、正常（1秒，默认）、慢（3秒）
  - 过渡动画形式固定为缓入缓出
  - 弹窗位置在关键帧面板正上方，支持点击外部关闭
- 体验与交互全面升级，所有状态与UI联动，动画流畅

## 部署

### GitHub Pages
1. 在 GitHub 创建仓库
2. 推送代码到仓库
3. 在仓库设置中启用 GitHub Pages

当前部署地址：[https://jimmcheung.github.io/photoCompare/](https://jimmcheung.github.io/photoCompare/)

### Vercel
1. 注册 Vercel 账号
2. 导入 GitHub 仓库
3. 自动部署

### 自建服务器
1. 构建项目：`npm run build`
2. 将 `dist` 目录下的文件部署到服务器
3. 配置 Nginx 或其他 Web 服务器

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License

## 作者

- Jim
- B站：[@Jim超爱玩](https://space.bilibili.com/13818699)

## 鸣谢

- B站：[@熊熊Bearie](https://space.bilibili.com/96625571)

测试 GitHub Actions 自动部署
